query GetProposalsFromDao(
  $skip: NonNegativeInt
  $limit: PositiveInt = 10
  $orderDirection: queryInput_proposals_orderDirection = desc
  $status: JSON
  $fromDate: Float
) {
  proposals(
    skip: $skip
    limit: $limit
    orderDirection: $orderDirection
    status: $status
    fromDate: $fromDate
  ) {
    items {
      id
      daoId
      txHash
      quorum
      forVotes
      againstVotes
      abstainVotes
      timestamp
      status
      proposerAccountId
      title
      startTimestamp
      endTimestamp
      targets
      values
    }
    totalCount
  }
}

query GetProposal($id: String!) {
  proposal(id: $id) {
    id
    daoId
    txHash
    proposerAccountId
    title
    description
    quorum
    timestamp
    status
    forVotes
    againstVotes
    abstainVotes
    startTimestamp
    endTimestamp
    calldatas
    targets
    values
  }
}

#  Get proposal votes
query GetProposalVotes(
  $proposalId: String!
  $limit: PositiveInt
  $orderBy: queryInput_proposalVotes_orderBy = timestamp
  $orderDirection: queryInput_proposalVotes_orderDirection = desc
) {
  proposalVotes(
    limit: $limit
    id: $proposalId
    orderBy: $orderBy
    orderDirection: $orderDirection
  ) {
    totalCount
    items {
      voterAddress
      transactionHash
      proposalId
      support
      votingPower
      reason
      timestamp
    }
  }
}

#  Get proposal votes
query GetProposalVotesTotalCount($proposalId: String!) {
  proposalVotes(id: $proposalId) {
    totalCount
  }
}

# Get voting power change
query GetVotingPowerChange(
  $addresses: JSON!
  $days: queryInput_historicalVotingPower_days!
  $fromDate: Float
) {
  historicalVotingPower(
    addresses: $addresses
    days: $days
    fromDate: $fromDate
  ) {
    address
    votingPower
  }
}

# Get proposal non-voters
query GetProposalNonVoters(
  $id: String!
  $limit: PositiveInt
  $skip: NonNegativeInt
  $orderDirection: queryInput_proposalNonVoters_orderDirection = desc
) {
  proposalNonVoters(
    id: $id
    limit: $limit
    skip: $skip
    orderDirection: $orderDirection
  ) {
    items {
      lastVoteTimestamp
      voter
      votingPower
      votingPowerVariation
    }
    totalCount
  }
}

# Get account power
query GetAccountPower($address: String!, $proposalId: String!) {
  accountPower(accountId: $address) {
    votingPower
    accountId
  }
  votesOnchain(proposalId: $proposalId, voterAccountId: $address) {
    support
    votingPower
    reason
    timestamp
    txHash
    daoId
  }
}
